<?xml version="1.0" encoding="utf-8"?>
<MixxxControllerPreset mixxxVersion="2.0" schemaVersion="1">
    <info>
        <name>AI DJ Hand Gestures Controller</name>
        <author>AI DJ Development Team</author>
        <description>
            Hand gesture recognition controller for DJ software using computer vision and MediaPipe.
            Controls EQ and filter parameters through finger counting and hand rotation gestures.
            
            Gesture Controls:
            - 1 finger up: High/Low Pass Filter control
            - 2 fingers up: Low frequency EQ control  
            - 3 fingers up: Mid frequency EQ control
            - 4 fingers up: High frequency EQ control
            
            Hand rotation controls the parameter values:
            - Counter-clockwise: Decrease value
            - Clockwise: Increase value
            - Center position: Neutral/default value
        </description>
        <wiki>https://github.com/mixxxdj/mixxx/wiki</wiki>
        <forums>https://mixxx.discourse.group/</forums>
    </info>
    
    <controller id="AI_DJ_Gestures">
        
        <!-- INPUT CONTROLS: MIDI CC messages from hand gestures -->
        <controls>
            
            <!-- High/Low Pass Filter Control (1 finger gesture) -->
            <control>
                <group>[QuickEffectRack1_[Channel1]]</group>
                <key>super1</key>
                <status>0xB0</status>  <!-- CC on channel 1 -->
                <midino>0x01</midino>  <!-- CC 1 -->
                <options>
                    <soft-takeover/>  <!-- Prevent jumps when switching gestures -->
                </options>
            </control>
            
            <!-- Low EQ Control (2 finger gesture) -->
            <control>
                <group>[Channel1]</group>
                <key>filterLow</key>
                <status>0xB0</status>  <!-- CC on channel 1 -->
                <midino>0x02</midino>  <!-- CC 2 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- Mid EQ Control (3 finger gesture) -->
            <control>
                <group>[Channel1]</group>
                <key>filterMid</key>
                <status>0xB0</status>  <!-- CC on channel 1 -->
                <midino>0x03</midino>  <!-- CC 3 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- High EQ Control (4 finger gesture) -->
            <control>
                <group>[Channel1]</group>
                <key>filterHigh</key>
                <status>0xB0</status>  <!-- CC on channel 1 -->
                <midino>0x04</midino>  <!-- CC 4 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- DECK 2 CONTROLS (Optional - for two-handed control) -->
            
            <!-- High/Low Pass Filter Control Deck 2 -->
            <control>
                <group>[QuickEffectRack1_[Channel2]]</group>
                <key>super1</key>
                <status>0xB1</status>  <!-- CC on channel 2 -->
                <midino>0x01</midino>  <!-- CC 1 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- Low EQ Control Deck 2 -->
            <control>
                <group>[Channel2]</group>
                <key>filterLow</key>
                <status>0xB1</status>  <!-- CC on channel 2 -->
                <midino>0x02</midino>  <!-- CC 2 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- Mid EQ Control Deck 2 -->
            <control>
                <group>[Channel2]</group>
                <key>filterMid</key>
                <status>0xB1</status>  <!-- CC on channel 2 -->
                <midino>0x03</midino>  <!-- CC 3 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- High EQ Control Deck 2 -->
            <control>
                <group>[Channel2]</group>
                <key>filterHigh</key>
                <status>0xB1</status>  <!-- CC on channel 2 -->
                <midino>0x04</midino>  <!-- CC 4 -->
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- MASTER CONTROLS -->
            
            <!-- Master Filter (CC 5) -->
            <control>
                <group>[Master]</group>
                <key>headMix</key>
                <status>0xB0</status>
                <midino>0x05</midino>
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
            <!-- Crossfader (CC 6) -->
            <control>
                <group>[Master]</group>
                <key>crossfader</key>
                <status>0xB0</status>
                <midino>0x06</midino>
                <options>
                    <soft-takeover/>
                </options>
            </control>
            
        </controls>
        
        <!-- OUTPUT CONTROLS: LED feedback and visual responses -->
        <outputs>
            
            <!-- Filter Active LED (if supported) -->
            <output>
                <group>[QuickEffectRack1_[Channel1]]</group>
                <key>enabled</key>
                <status>0xB0</status>
                <midino>0x10</midino>  <!-- CC 16 for LED feedback -->
                <on>0x7F</on>
                <off>0x00</off>
                <minimum>0.5</minimum>
                <maximum>1.0</maximum>
            </output>
            
            <!-- EQ Kill switches feedback -->
            <output>
                <group>[Channel1]</group>
                <key>filterLowKill</key>
                <status>0xB0</status>
                <midino>0x11</midino>
                <on>0x7F</on>
                <off>0x00</off>
                <minimum>0.5</minimum>
                <maximum>1.0</maximum>
            </output>
            
            <output>
                <group>[Channel1]</group>
                <key>filterMidKill</key>
                <status>0xB0</status>
                <midino>0x12</midino>
                <on>0x7F</on>
                <off>0x00</off>
                <minimum>0.5</minimum>
                <maximum>1.0</maximum>
            </output>
            
            <output>
                <group>[Channel1]</group>
                <key>filterHighKill</key>
                <status>0xB0</status>
                <midino>0x13</midino>
                <on>0x7F</on>
                <off>0x00</off>
                <minimum>0.5</minimum>
                <maximum>1.0</maximum>
            </output>
            
        </outputs>
        
    </controller>
    
</MixxxControllerPreset>
